@{
    Layout = null;
}
<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title></title>
    <script src="~/Scripts/jquery-3.2.1.min.js"></script>
    <script src="~/Scripts/highcharts.js"></script>
    @*<script src="~/Scripts/highstock.js"></script>*@
    <script type="text/javascript">
        $(function () {
            request_piedata();
            //request_data(1);

            //LoadPieCharts();
        });

        function request_piedata() {
            //$.get("xscp/GetPieData?type=2&date=20170815",
            $.get("xscp/GetPieRangeData?type=2",
                function (data, state) {

                    $.each(data, function (i, root) {
                        var ydata = [];
                        $.each(root.List, function (j, item) {
                            var data = [];
                            data.push(item.Num.toString())
                            data.push(item.Count);
                            ydata.push(data);
                        })

                        LoadPieCharts("container" + i, root.Name, root.SubName, ydata)
                    });

                });
        }

        //Get方式
        function request_data(type) {
            $.get("xscp/GetDwdData?type=2&date=20170815",
                function (data, state) {
                    var xdata = [];
                    var bigdata = [];
                    var smalldata = [];
                    var odddata = [];
                    var pairdata = [];
                    $.each(data, function (i, item) {
                        xdata.push(item.Dtime);
                        bigdata.push(item.Big);
                        smalldata.push(item.Small);
                        odddata.push(item.Odd);
                        pairdata.push(item.Pair);
                    });
                    LoadCharts("container", "bar", xdata, [{ name: '大大', data: bigdata }]);
                    LoadCharts("container1", "line", xdata, [{ name: '小小', data: smalldata }]);
                    LoadCharts("container2", "bar", xdata, [{ name: '奇奇', data: odddata }]);
                    LoadCharts("container3", "bar", xdata, [{ name: '偶偶', data: pairdata }]);

                    var ydata = [{ name: '大大', data: bigdata },
                                 //{ name: '小小', data: smalldata },
                                 //{ name: '奇奇', data: odddata },
                                 { name: '偶偶', data: pairdata }];
                });
        }

        function LoadPieCharts(container, title, subtitle, data) {

            var chart = new Highcharts.Chart({
                chart: {
                    renderTo: container,//目标容器
                    plotBackgroundColor: null,
                    plotBorderWidth: null,
                    plotShadow: false
                },
                title: {
                    text: title
                },
                subtitle: {
                    text: subtitle
                },
                tooltip: {
                    headerFormat: '{series.name}<br>',
                    pointFormat: '{point.name}: <b>{point.percentage:.1f}%</b>'
                },
                plotOptions: {
                    pie: {
                        allowPointSelect: true,
                        cursor: 'pointer',
                        dataLabels: {
                            enabled: true,
                            format: '{point.percentage:.1f} % ({point.name})',
                            style: {
                            }
                        }
                    }
                },
                series: [{
                    type: 'pie',
                    name: '开奖占比',
                    data: data
                    //    [
                    //    ["0", 10],
                    //    ['1', 13],
                    //    ['2', 8],
                    //    ['3', 10],
                    //    ['4', 7],
                    //    ['5', 8],
                    //    ['15', 1]
                    //]
                }]
            });
        }

        function LoadCharts(container, chartType, xdata, ydata) {
            var chart = new Highcharts.Chart({
                chart: {
                    renderTo: container,//目标容器
                    type: chartType
                },
                title: {
                    text: '分分走势图'
                },
                xAxis: {
                    categories: xdata,
                    tickInterval: 100
                    //labels: {step:100}
                },
                yAxis: {
                    title: {
                        text: '走势'
                    },
                    //tickInterval: 5
                },
                series: ydata
            });
        }



        function chart1() {
            $('#container').highcharts({
                chart: {
                    type: 'column'
                },
                title: {
                    text: 'My first Highcharts chart'
                },
                xAxis: {
                    categories: ['苹果', '香蕉', '橙子']   //指定x轴分组
                },
                yAxis: {
                    title: {
                        text: 'something'
                    }
                },
                series: [{                                //指定数据列
                    name: '小明',                          //数据列名
                    data: [1, 0, 4]                        //数据
                }, {
                    name: '小红',
                    data: [5, 7, 3]
                }]
            });
        }

        function chart2() {
            var chart = new Highcharts.Chart({
                chart: {
                    renderTo: 'container',//目标容器
                    type: 'pie'
                },
                title: {
                    text: 'Fruit Consumption'
                },

                legend: {
                    //align: 'center', //水平方向位置
                    //verticalAlign: 'top', //垂直方向位置
                    //x: 0, //距离x轴的距离
                    //y: 100 //距离Y轴的距离
                    layout: 'vertical',
                    align: 'left',
                    verticalAlign: 'top',
                    borderWidth: 0
                },

                xAxis: {
                    categories: ['Apples', 'Bananas', 'Oranges']
                },
                yAxis: {
                    title: {
                        text: 'Fruit eaten'
                    }
                },
                series: [{
                    name: 'Jane',
                    data: [1, 0, 4]
                }, {
                    name: 'John',
                    data: [5, 7, 3]
                }]
            });
        }

        function chart3() {
            var option = new Object();
            option.chart = new Object();
            option.chart.type = "bar";
            option.chart.renderTo = "container";

            option.title = { title: "水果的摄入" };

            option.xAxis = { categories: ['苹果', '香蕉', '桔子'], gridLineWidth: 1 };
            option.yAxis = { title: { text: "吃水果的量" }, tickInterval: 1 };

            option.series = new Array();
            option.series[0] = new Object();
            option.series[0].name = "张三";
            option.series[0].data = [1, 3, 5];

            option.series[1] = new Object();
            option.series[1].name = "李四";
            option.series[1].data = [6, 1, 5.5];

            option.series[2] = new Object();
            option.series[2].name = "刘能";
            option.series[2].data = [3, 1, 0.3];

            var chart = new Highcharts.Chart(option);
        }
        //$(function () {
        //    //chart1();
        //    chart2();
        //    //chart3();
        //});

    </script>
</head>
<body>
    <div id="container0" style="min-width: 330px; height: 350px; float: left;"></div>
    <div id="container1" style="min-width: 330px; height: 350px; float: left;"></div>
    <div id="container2" style="min-width: 330px; height: 350px; float: left;"></div>
    <div id="container3" style="min-width: 330px; height: 350px; float: left;"></div>
    <div id="container4" style="min-width: 330px; height: 350px; float: left;"></div>
    <div id="container5" style="min-width: 330px; height: 350px; float: left;"></div>
    <div id="container6" style="min-width: 330px; height: 350px; float: left;"></div>
    <div id="container7" style="min-width: 330px; height: 350px; float: left;"></div>
    <div id="container8" style="min-width: 330px; height: 350px; float: left;"></div>
</body>
</html>
